
<uib-tabset active="active">
	<uib-tab index="$index" ng-repeat="tab in tabs" heading="{{tab.title}}" disable="tab.disabled">
		<section class="row player">
				<div class="row info text-center">
					<div class="row">
						<!-- <img class="col-sm-4 col-sm-offset-4" src="{{image}}" alt="{{image}}" /> -->
						<span>{{tab.player.currentSong.artist}} - {{tab.player.currentSong.title}}</span>
					</div>
					<div ng-if="tab.player && tab.player.currentSong" class="row">
						<div class="row">
							<div class="col-sm-6 col-sm-offset-2">
								<img src="images/disc_default.png" alt="Image"/>
							</div>
						</div>
						<div class="row">
							<div class="progress player-bar" ng-click="seek(tab.player,$event)">
								<div class="progress-bar notransition" role="progressbar"
									 aria-valuenow="{{tab.player.timer.divide()}}" aria-valuemin="0" aria-valuemax="{{tab.player.timer.time}}" style="min-width: 0em" ng-style="{width:tab.player.timer.divide()+'%'}">
									{{tab.player.timer.counter}}
								</div>
							</div>
						</div>

					</div>
				</div>
				<div class="row remote">
					<div class="col-sm-4 col-sm-offset-1">
						<button id="prev" ng-click="prev(tab.player)"><i class="fa fa-step-backward" aria-hidden="true"></i></button>
						<button ng-if="tab.player.status.state == 'play'" id="pause" ng-click="pause(tab.player)"><i class="fa fa-pause" aria-hidden="true"></i></button>
						<button ng-if="tab.player.status.state != 'play'" id="play" ng-click="play(tab.player)"><i class="fa fa-play" aria-hidden="true"></i></button>
						<button id="stop" ng-click="stop(tab.player)"><i class="fa fa-stop" aria-hidden="true"></i></button>
						<button id="next" ng-click="next(tab.player)"><i class="fa fa-step-forward" aria-hidden="true"></i></button>
					</div>
					<div class="col-sm-4 col-sm-offset-3">
						<span id="currentVol"></span>
						<button id="volMinus" ng-click="volMinus(tab.player)"><i class="fa fa-volume-down" aria-hidden="true"></i></button>
						<button  id="volPlus" ng-click="volPlus(tab.player)"><i class="fa fa-volume-up" aria-hidden="true"></i></button>
						<button ng-class="{'btn-selected': tab.player.status.repeat}" id="repeat"  ng-click="repeat(tab.player)"><i class="fa fa-repeat" aria-hidden="true"></i></button>
						<button ng-class="{'btn-selected': tab.player.status.random}" id="random" ng-click="random(tab.player)"><i class="fa fa-random" aria-hidden="true"></i></button>
					</div>
				</div>
		</section>

		<section ng-show="tab.library.open" class="row content">
			<div class="row text-uppercase text-center">
				<h1>Your music</h1>
			</div>
			<div>
				<div class="col-sm-3 waiting-list">
					<h3>Waiting list</h3>
					<div>
						<div class="row" ng-repeat="song in tab.player.playlist" class="item" ng-click="playAt(tab.player,$index)">
							<div class="col-sm-8"><a href="">{{song.file}}</a></div>
							<div class="col-sm-4 text-right">
								<!--<button id="next"><i class="fa fa-plus-square-o" aria-hidden="true"></i></button>-->
								<button ng-click="delete(tab.player, $index);$event.stopPropagation();"><i class="fa fa-trash" aria-hidden="true"></i></button>
							</div>
						</div>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="col-sm-6 classic-list">
						<h3>Genres</h3>
						<div>
							<div ng-repeat="genre in tab.library.genres" class="item" ng-click="refrechList(genre)" class="row">
								<div class="col-sm-12"><a href="">{{genre}}</a></div>
							</div>
						</div>
					</div>
					<div class="col-sm-6 classic-list">
						<h3>Albums</h3>
						<div>
							<div ng-repeat="album in tab.library.albums" ng-click="refrechList(album)" class="row">
								<div  class="col-sm-12"><a href="">{{album}}</a></div>
							</div>
						</div>
					</div>
					<div class="col-sm-6 classic-list">
						<h3>Playlists</h3>
						<div>
							<div ng-repeat="playlist in tab.library.playlists" class="item" ng-click="getPlaylistSongs(pl)" class="row">
								<div class="col-sm-8"><a href="">{{playlist}}</a></div>
								<div class="col-sm-4 text-right">
									<button id="next"><i class="fa fa-plus" aria-hidden="true" ng-click="loadPlaylist(pl); $event.stopPropagation();"></i></button>
								</div>
							</div>
						</div>
						<div class="text-center">
                            <form ng-submit="addPlaylist(playlist.name)">
                                <input type="text" ng-model="playlist.name" name="text" class="form-control"/>
                                <input type="submit" id="submit" value="Add" class="btn-add"/>
                            </form>
						</div>
					</div>
					<div class="col-sm-6 classic-list">
						<h3>Composers</h3>
						<div>
                            <div ng-repeat="artist in tab.library.artists" class="item" ng-click="refrechList(artist)" class="row">
                                <div class="col-sm-12"><a href="">{{artist}}</a></div>
                            </div>
						</div>
					</div>
				</div>
				<div class="col-sm-3 search-list classic-list">
					<div class="row text-center">
						<input class="col-sm-10 col-sm-offset-1" type="text" placeholder="Search (genres, albums, musics ...)" />
					</div>
					<div>
						<div class="row">
							<div ng-repeat="song in tab.library.allSongs" class="col-sm-12"><a href="">{{song.title}}</a></div>
						</div>
					</div>
				</div>
			</div>
		</section>
		<div class="footer navbar-fixed-bottom">
			<div class="row text-uppercase text-center">
				<button class="btn btn-default" ng-click="openLibrary($index, tab.player)"><h1>{{tab.library.open ? 'Close': 'Open' }} Library</h1></button>
			</div>
		</div>
	</uib-tab>
</uib-tabset>

<!--
<div ng-if="rooms.length == 0">
	Client not connected
</div>
-->